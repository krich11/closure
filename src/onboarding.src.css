@import "../src/shared.css";

/* ─── Onboarding-specific styles ───────────────────────────────── */
@layer components {
  .onboarding-container {
    @apply max-w-[560px] mx-auto;
    padding: 3rem 1.5rem 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* ── Steps ────────────────────────────────────────────────────── */
  .step {
    @apply text-center w-full;
    animation: step-enter 0.35s ease;
  }

  .step-icon {
    @apply text-5xl mb-6;
  }

  .welcome-logo {
    @apply w-20 h-20 mx-auto;
  }

  .step-title {
    @apply font-serif text-3xl font-bold tracking-tight mb-4;
    letter-spacing: -0.02em;
  }

  .step-body {
    @apply text-base text-ink-secondary leading-relaxed mb-4 max-w-md mx-auto;
  }

  .step-body--quiet {
    @apply text-sm text-ink-muted italic;
  }

  .step-nav {
    @apply flex justify-center gap-3 mt-8;
  }

  /* ── Buttons ──────────────────────────────────────────────────── */
  .btn {
    @apply inline-block py-3 px-6 rounded-lg font-medium text-base cursor-pointer border-none;
    font-family: var(--font-sans);
    transition: background-color 0.2s, opacity 0.2s;
  }

  .btn:hover {
    @apply opacity-90;
  }

  .btn-primary {
    @apply bg-warm text-white;
  }

  .btn-primary:hover {
    @apply bg-warm-hover;
  }

  .btn-ghost {
    @apply bg-transparent text-ink-secondary;
    border: 1px solid var(--color-border);
  }

  .btn-ghost:hover {
    @apply text-ink;
    background: var(--color-card);
  }

  /* ── Permission List ──────────────────────────────────────────── */
  .permission-list {
    @apply list-none p-0 m-0 mt-6 text-left max-w-md mx-auto;
  }

  .permission-item {
    @apply flex gap-4 py-3;
    border-bottom: 1px solid var(--color-border);
  }

  .permission-item:last-child {
    border-bottom: none;
  }

  .permission-icon {
    @apply text-2xl flex-shrink-0 w-9 text-center;
  }

  .permission-detail {
    @apply flex flex-col;
  }

  .permission-detail strong {
    @apply text-sm text-ink;
  }

  .permission-detail span {
    @apply text-sm text-ink-secondary mt-0.5;
  }

  /* ── Feature Cards ────────────────────────────────────────────── */
  .feature-grid {
    @apply grid grid-cols-2 gap-4 mt-6 text-left;
  }

  .feature-card {
    @apply p-5 rounded-lg;
    background: var(--color-card);
    border: 1px solid var(--color-border);
  }

  .feature-name {
    @apply font-serif text-base font-bold m-0 mb-2;
  }

  .feature-desc {
    @apply text-sm text-ink-secondary m-0 leading-relaxed;
  }

  .safety-note {
    @apply mt-8 py-3 px-4 rounded text-sm text-ink-secondary text-left max-w-md mx-auto;
    background: color-mix(in srgb, var(--color-sage) 40%, var(--color-paper));
    border: 1px solid var(--color-sage);
  }

  .safety-note p {
    @apply m-0;
  }

  /* ── Progress Dots ────────────────────────────────────────────── */
  .step-dots {
    @apply flex gap-2 mt-10;
  }

  .dot {
    @apply block w-2.5 h-2.5 rounded-full;
    background: var(--color-border);
    transition: background-color 0.3s ease, transform 0.3s ease;
  }

  .dot--active {
    @apply bg-warm;
    transform: scale(1.3);
  }
}

@keyframes step-enter {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ── Responsive ──────────────────────────────────────────────────── */
@media (max-width: 480px) {
  .feature-grid {
    @apply grid-cols-1;
  }

  .step-title {
    @apply text-2xl;
  }
}

/* ── Dark Mode ───────────────────────────────────────────────────── */
@media (prefers-color-scheme: dark) {
  :root {
    --color-paper: #1a1918;
    --color-card: #242321;
    --color-ink: #e6e2dd;
    --color-ink-secondary: #a8a49e;
    --color-ink-muted: #6b6863;
    --color-border: #363430;
    --color-warm: #c59d75;
    --color-warm-hover: #b8905a;
    --color-sage: #3a3d2a;
  }
}
